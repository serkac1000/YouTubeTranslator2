<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Translator Android App</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #e74c3c;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        h2 {
            color: #2980b9;
            margin-top: 30px;
        }
        .app-preview {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        .app-preview img {
            max-width: 300px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .feature {
            background-color: #f9f9f9;
            border-left: 4px solid #2980b9;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .download-btn {
            display: inline-block;
            background-color: #2ecc71;
            color: white;
            font-weight: bold;
            padding: 16px 32px;
            text-decoration: none;
            border-radius: 8px;
            margin: 30px 0;
            transition: all 0.3s;
            font-size: 18px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            position: relative;
        }
        .download-btn:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
        }
        .download-btn:active {
            transform: translateY(0);
            box-shadow: 0 3px 6px rgba(0,0,0,0.15);
        }
        .download-section {
            text-align: center;
            margin: 40px 0;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 10px;
        }
        code {
            background-color: #f8f8f8;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.9em;
        }
        .note {
            background-color: #fffde7;
            padding: 15px;
            border-left: 4px solid #fbc02d;
            margin: 20px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>YouTube Translator Android App</h1>
    
    <p>Welcome to the YouTube Translator app project! This Android application allows users to play YouTube videos and automatically translate English speech to Russian subtitles in real-time.</p>
    
    <div class="app-preview">
        <img src="app_preview.png" alt="App Preview" title="YouTube Translator App">
    </div>
    
    <h2>App Icon</h2>
    <div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
        <img src="ic_launcher.png" alt="App Icon" style="width: 96px; height: 96px; margin-right: 20px;">
        <img src="ic_launcher_round.png" alt="App Icon Round" style="width: 96px; height: 96px;">
    </div>
    <p style="text-align: center; margin-bottom: 30px;">The app icon represents video playback (play triangle) and translation (speech bubbles).</p>

    <h2>Key Features</h2>
    
    <div class="feature">
        <h3>Enhanced YouTube Video Playback with Full Controls</h3>
        <p>Paste any YouTube link and watch videos directly in the app using YouTube's iframe API integrated with a WebView for reliable playback. The app features advanced buffering recovery, continuous subtitle display during buffering, and automatic quality adjustments for a seamless viewing experience even with unstable connections. Control your viewing experience with play, pause, and stop buttons to manage video playback.</p>
    </div>
    
    <div class="feature">
        <h3>Real-time Translation</h3>
        <p>The app generates English to Russian subtitle translations in real-time as the video plays, using Google's ML Kit for on-device translation.</p>
    </div>
    
    <div class="feature">
        <h3>Simple, Clean Interface</h3>
        <p>A minimalist interface that focuses on the video content and subtitle display, making it easy to use.</p>
    </div>
    
    <h2>Technical Implementation</h2>
    
    <p>The app is built using:</p>
    <ul>
        <li><strong>Kotlin</strong> - Modern Android programming language</li>
        <li><strong>WebView</strong> - For integrated YouTube iframe API video playback</li>
        <li><strong>YouTube API</strong> - For authenticated access to YouTube videos</li>
        <li><strong>ML Kit Translation</strong> - For on-device English to Russian translation</li>
        <li><strong>Coroutines</strong> - For managing background tasks and asynchronous operations</li>
    </ul>
    
    <div class="note">
        <p><strong>Note:</strong> This implementation uses YouTube's iframe API via WebView for reliable video playback. The app requires a valid YouTube API key to function properly.</p>
    </div>
    
    <h2>How It Works</h2>
    
    <p>The app follows these basic steps:</p>
    <ol>
        <li>User enters a YouTube video URL in the input field (previous URLs are remembered)</li>
        <li>When the Play button is pressed, the app extracts the video ID from the URL</li>
        <li>A WebView loads the YouTube video using the iframe API with the YouTube API key</li>
        <li>While the video plays, the app generates sample English text every 5 seconds</li>
        <li>Each English phrase is translated to Russian using ML Kit's on-device translation</li>
        <li>Translated Russian text is displayed at the bottom of the screen in a YouTube-like subtitle format</li>
        <li>During video buffering, the app detects the condition and continues generating subtitles with buffering indicators</li>
        <li>Advanced buffer monitoring adjusts video quality and position to recover from buffering issues</li>
    </ol>
    
    <p>In a more advanced implementation, speech recognition would be used to capture the actual audio from the video for translation.</p>
    
    <h2>Project Source Code</h2>
    
    <p>The complete source code is available in this Replit project. Key files include:</p>
    <ul>
        <li><code>MainActivity.kt</code> - Main application logic</li>
        <li><code>activity_main.xml</code> - UI layout definition</li>
        <li><code>build.gradle</code> - Project dependencies</li>
    </ul>
    
    <h2>Download and Installation</h2>
    
    <div class="feature">
        <h3>Getting Started</h3>
        <p>Follow these steps to install and run the YouTube Translator app on your Android device:</p>
        <ol>
            <li>Click the button below to download the APK file</li>
            <li>Enable "Install from Unknown Sources" in your Android device settings
                <ul>
                    <li>On Android 8+: Settings > Apps > Special access > Install unknown apps</li>
                    <li>On older Android: Settings > Security > Unknown sources</li>
                </ul>
            </li>
            <li>Open the downloaded APK file to begin installation</li>
            <li>Launch the app from your app drawer</li>
            <li>Enter a YouTube URL and click "Play" to begin</li>
            <li>Use the pause and stop buttons for controlling video playback</li>
        </ol>
    </div>
    
    <div class="note">
        <p><strong>Latest Update (March 30, 2025):</strong> Added pause and stop buttons for better video control. Implemented continuous subtitle display during video buffering with enhanced buffering detection and recovery. Added URL persistence between app sessions. Fixed "????" subtitle corruption issue. Improved video buffering performance with automatic quality adjustments and advanced buffer position detection. Enhanced subtitle display with a specialized buffering display mode.</p>
    </div>
    
    <div class="download-section">
        <a href="youtube_translator.apk" class="download-btn">⬇️ Download APK v1.3</a>
        <p>File size: ~5MB • Android 5.0+ required • YouTube API powered</p>
    </div>
    
    <h2>Future Improvements</h2>
    
    <p>Potential enhancements for this project:</p>
    <ul>
        <li>Implement actual speech recognition to capture video audio</li>
        <li>Add support for more language pairs</li>
        <li>Improve YouTube video extraction with a better approach</li>
        <li>Add user preferences for translation settings</li>
        <li>Implement a history of recently watched videos</li>
    </ul>
    
    <div class="note">
        <p>This project is for educational purposes only. For commercial applications, proper YouTube API integration is recommended to comply with YouTube's terms of service.</p>
    </div>
</body>
</html>